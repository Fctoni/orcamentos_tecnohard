# ğŸš€ FASE 9: Deploy

**DuraÃ§Ã£o Estimada:** Semana 5  
**Objetivo:** Sistema em produÃ§Ã£o na Vercel

---

## ğŸ“‹ Checklist de Tarefas

- [ ] 9.1 Preparar projeto para produÃ§Ã£o
- [ ] 9.2 Configurar variÃ¡veis de ambiente
- [ ] 9.3 Criar conta/projeto na Vercel
- [ ] 9.4 Conectar repositÃ³rio Git
- [ ] 9.5 Configurar domÃ­nio (opcional)
- [ ] 9.6 Deploy inicial
- [ ] 9.7 Testes em produÃ§Ã£o
- [ ] 9.8 ConfiguraÃ§Ãµes finais do Supabase
- [ ] 9.9 DocumentaÃ§Ã£o final

---

## 9.1 Preparar Projeto para ProduÃ§Ã£o

### Verificar Build Local

```bash
npm run build
```

Corrigir quaisquer erros que apareÃ§am.

### Verificar Lint

```bash
npm run lint
```

### Otimizar Imagens

Garantir que o logo e outras imagens estÃ£o otimizadas:
- Logo em PNG com fundo branco
- Tamanho adequado (nÃ£o maior que necessÃ¡rio)
- Formatos modernos quando possÃ­vel (WebP)

### Verificar next.config.js

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '*.supabase.co',
      },
    ],
  },
  // OtimizaÃ§Ãµes de produÃ§Ã£o
  swcMinify: true,
  compress: true,
}

module.exports = nextConfig
```

---

## 9.2 VariÃ¡veis de Ambiente

### Criar `.env.example`

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Opcional: Analytics
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=

# Opcional: Sentry
SENTRY_DSN=
```

### VariÃ¡veis NecessÃ¡rias na Vercel

| VariÃ¡vel | Valor |
|----------|-------|
| `NEXT_PUBLIC_SUPABASE_URL` | URL do projeto Supabase |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Chave anÃ´nima do Supabase |

---

## 9.3 Criar Projeto na Vercel

1. Acesse [vercel.com](https://vercel.com)
2. FaÃ§a login (GitHub, GitLab ou email)
3. Clique em "Add New Project"
4. Importe o repositÃ³rio do projeto

---

## 9.4 ConfiguraÃ§Ã£o do Deploy

### Na interface da Vercel:

1. **Framework Preset:** Next.js (auto-detectado)
2. **Root Directory:** `.` (raiz)
3. **Build Command:** `npm run build`
4. **Output Directory:** `.next`
5. **Install Command:** `npm install`

### Adicionar VariÃ¡veis de Ambiente:

1. VÃ¡ em Settings > Environment Variables
2. Adicione cada variÃ¡vel:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
3. Marque para quais ambientes (Production, Preview, Development)

---

## 9.5 DomÃ­nio Personalizado (Opcional)

### Usando domÃ­nio prÃ³prio:

1. VÃ¡ em Settings > Domains
2. Adicione seu domÃ­nio: `orcamentos.tecnohard.com.br`
3. Configure os DNS conforme instruÃ§Ãµes da Vercel:
   - Tipo A: `76.76.21.21`
   - Ou CNAME para `cname.vercel-dns.com`

### Usando subdomÃ­nio da Vercel:

O projeto receberÃ¡ automaticamente um domÃ­nio como:
`orcamentos-tecnohard.vercel.app`

---

## 9.6 Deploy

### Deploy AutomÃ¡tico

Cada push para a branch `main` dispara um deploy automÃ¡tico.

### Deploy Manual

```bash
# Instalar CLI da Vercel (se necessÃ¡rio)
npm i -g vercel

# Login
vercel login

# Deploy
vercel

# Deploy para produÃ§Ã£o
vercel --prod
```

---

## 9.7 Testes em ProduÃ§Ã£o

### Checklist PÃ³s-Deploy

**Acesso:**
- [ ] Site carrega corretamente
- [ ] HTTPS funcionando
- [ ] Sem erros no console

**AutenticaÃ§Ã£o:**
- [ ] Login funciona
- [ ] Registro funciona
- [ ] Logout funciona

**Funcionalidades:**
- [ ] Listar orÃ§amentos
- [ ] Criar orÃ§amento
- [ ] Editar orÃ§amento
- [ ] Upload de anexos
- [ ] Download de PDF
- [ ] ExportaÃ§Ã£o CSV/Excel

**Performance:**
- [ ] Tempo de carregamento < 3s
- [ ] Core Web Vitals OK

### Ferramentas de Teste

- [PageSpeed Insights](https://pagespeed.web.dev/)
- [WebPageTest](https://www.webpagetest.org/)
- Console do navegador (F12)

---

## 9.8 ConfiguraÃ§Ãµes Finais do Supabase

### Verificar URL de Redirect

No Supabase Dashboard:
1. Authentication > URL Configuration
2. Adicionar URL de produÃ§Ã£o em "Redirect URLs":
   - `https://seu-dominio.vercel.app/**`
   - `https://orcamentos.tecnohard.com.br/**`

### Verificar Rate Limits

Em Project Settings > API:
- Verificar limites de requisiÃ§Ãµes
- Ajustar se necessÃ¡rio (plano pago)

### Backup

Verificar se backups automÃ¡ticos estÃ£o habilitados:
- Project Settings > Database > Backups

---

## 9.9 DocumentaÃ§Ã£o Final

### Atualizar README.md

```markdown
# Sistema de OrÃ§amentos - Tecno Hard

Sistema web para criaÃ§Ã£o, gestÃ£o e exportaÃ§Ã£o de orÃ§amentos.

## ğŸš€ Deploy

O sistema estÃ¡ disponÃ­vel em: https://orcamentos.tecnohard.com.br

## ğŸ› ï¸ Stack TÃ©cnica

- **Frontend:** Next.js 14, TypeScript, Tailwind CSS, shadcn/ui
- **Backend:** Supabase (PostgreSQL, Auth, Storage)
- **Deploy:** Vercel

## ğŸ”§ Desenvolvimento Local

### Requisitos
- Node.js 18+
- npm ou yarn

### InstalaÃ§Ã£o

```bash
# Clonar repositÃ³rio
git clone https://github.com/tecnohard/orcamentos.git
cd orcamentos

# Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente
cp .env.example .env.local
# Editar .env.local com suas credenciais

# Rodar em desenvolvimento
npm run dev
```

### VariÃ¡veis de Ambiente

| VariÃ¡vel | DescriÃ§Ã£o |
|----------|-----------|
| `NEXT_PUBLIC_SUPABASE_URL` | URL do projeto Supabase |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Chave pÃºblica do Supabase |

## ğŸ“ Estrutura do Projeto

```
app/
â”œâ”€â”€ (auth)/           # PÃ¡ginas de autenticaÃ§Ã£o
â”œâ”€â”€ (dashboard)/      # PÃ¡ginas do sistema
â”œâ”€â”€ api/              # API routes
components/
â”œâ”€â”€ features/         # Componentes especÃ­ficos
â”œâ”€â”€ layout/           # Layout (header, sidebar)
â”œâ”€â”€ ui/               # Componentes base (shadcn)
lib/
â”œâ”€â”€ hooks/            # Custom hooks
â”œâ”€â”€ supabase/         # Clientes Supabase
â”œâ”€â”€ types/            # TypeScript types
â”œâ”€â”€ utils/            # UtilitÃ¡rios
```

## ğŸ“ Funcionalidades

- âœ… AutenticaÃ§Ã£o (login/registro)
- âœ… CRUD de orÃ§amentos
- âœ… GestÃ£o de itens
- âœ… Upload de anexos
- âœ… GeraÃ§Ã£o de PDF
- âœ… ExportaÃ§Ã£o CSV/Excel
- âœ… Filtros e busca full-text
- âœ… GestÃ£o de status

## ğŸ”’ SeguranÃ§a

- Row Level Security (RLS) no Supabase
- AutenticaÃ§Ã£o via JWT
- Storage privado para anexos

## ğŸ“ Suporte

Para dÃºvidas ou problemas, entre em contato com a equipe de TI.
```

---

## âœ… CritÃ©rios de ConclusÃ£o da Fase 9

- [ ] Build sem erros
- [ ] Deploy na Vercel realizado
- [ ] VariÃ¡veis de ambiente configuradas
- [ ] Site acessÃ­vel via URL
- [ ] HTTPS funcionando
- [ ] Todas as funcionalidades testadas em produÃ§Ã£o
- [ ] Performance aceitÃ¡vel
- [ ] Supabase configurado para produÃ§Ã£o
- [ ] README atualizado
- [ ] Equipe treinada no uso do sistema

---

## ğŸ‰ Projeto ConcluÃ­do!

ParabÃ©ns! O Sistema de OrÃ§amentos Tecno Hard estÃ¡ em produÃ§Ã£o.

### PrÃ³ximos Passos (PÃ³s-MVP)

Funcionalidades que podem ser adicionadas futuramente:

- [ ] Dashboard com mÃ©tricas
- [ ] Controle de acesso por perfil
- [ ] HistÃ³rico de alteraÃ§Ãµes
- [ ] Envio de orÃ§amento por e-mail
- [ ] Assinatura eletrÃ´nica
- [ ] IntegraÃ§Ã£o com ERP
- [ ] RelatÃ³rios avanÃ§ados
- [ ] PWA (Progressive Web App)

---

## ğŸ“š ReferÃªncias Ãšteis

- [Next.js Docs](https://nextjs.org/docs)
- [Vercel Docs](https://vercel.com/docs)
- [Supabase Docs](https://supabase.com/docs)
- [shadcn/ui](https://ui.shadcn.com)
- [Tailwind CSS](https://tailwindcss.com/docs)




